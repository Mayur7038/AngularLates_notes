WEBSOCKETS ‚Äì DETAILED INTERVIEW NOTES
1Ô∏è‚É£ What are WebSockets?
Definition

WebSocket is a communication protocol that provides:

Full-duplex

Persistent

Bi-directional
communication between client and server over a single TCP connection.

üìå Unlike HTTP, the connection does not close after one request.

2Ô∏è‚É£ Why WebSockets Were Introduced
Problem with HTTP

HTTP is:

Stateless

Request‚Äìresponse based

Client must poll for updates

Old Techniques Before WebSockets
Technique	Problem
Polling	High latency
Long polling	Resource heavy
Server-Sent Events	One-way only
WebSocket Solution

Server can push data

No repeated HTTP headers

Very low latency

3Ô∏è‚É£ How WebSocket Works (Handshake)
Step-by-step Flow

Client sends HTTP request:

Upgrade: websocket
Connection: Upgrade


Server responds with:

HTTP 101 Switching Protocols


Connection upgrades to WebSocket

Persistent connection remains open

üìå Still runs over ports 80 / 443

4Ô∏è‚É£ WebSocket vs HTTP (INTERVIEW FAVORITE)
Feature	HTTP	WebSocket
Connection	Short-lived	Persistent
Direction	Client ‚Üí Server	Bidirectional
Latency	High	Very Low
Overhead	Large headers	Minimal
Use case	REST APIs	Real-time apps
5Ô∏è‚É£ Real-World Use Cases

üí¨ Chat applications

üìà Live stock prices

üßë‚Äçüíª Collaborative tools (Google Docs)

üéÆ Multiplayer games

üöï Ride tracking (Uber)

üì° IoT dashboards

üîî Notifications

6Ô∏è‚É£ WebSocket vs Socket.IO (VERY IMPORTANT)
WebSocket

Low-level protocol

Browser API: WebSocket

No reconnection

No rooms

Socket.IO

Built on WebSocket

Fallback to polling

Auto reconnect

Rooms & namespaces

Better DX

üìå In production ‚Üí Socket.IO is preferred

7Ô∏è‚É£ What are Events in WebSockets?

WebSocket communication is event-driven.

Example:

socket.emit('message', data);
socket.on('message', callback);

Key Events
Event	Purpose
connect	Client connected
disconnect	Client left
message	Data exchange
error	Error handling
8Ô∏è‚É£ Rooms Concept (VERY IMPORTANT)
What is a Room?

A logical channel inside one WebSocket server.

socket.join('room1');
io.to('room1').emit('msg', data);

Why Rooms?

Private conversations

Group chats

Support tickets

Multiplayer games

üìå Rooms ‚â† separate sockets

9Ô∏è‚É£ Namespaces (Advanced Concept)
io.of('/admin');
io.of('/chat');

Use Cases

Separate admin & user traffic

Better scalability

Access control

üîü WebSocket Architecture (Production)
[Ionic App]  ----\
                   ‚Üí  [Socket.IO Server]  ‚Üí  [Admin Panel]
[Web App]   ----/


Optional:

                ‚Üí Redis Adapter
                ‚Üí MongoDB

1Ô∏è‚É£1Ô∏è‚É£ Authentication in WebSockets
Why JWT?

WebSockets don‚Äôt send headers on every message.

JWT in Handshake
io('url', {
  auth: { token }
});


Backend:

socket.handshake.auth.token


üìå Authenticate once on connect

1Ô∏è‚É£2Ô∏è‚É£ WebSockets + Angular (IMPORTANT)
Problem

WebSocket callbacks run outside Angular Zone

UI doesn‚Äôt update automatically

Solution

NgZone.run()

Immutable updates

Angular Signals

Example:

this.zone.run(() => {
  this.messages = [...this.messages, msg];
});

1Ô∏è‚É£3Ô∏è‚É£ Change Detection Issue (Interview Gold)

‚ùå This may not update UI:

array.push(item);


‚úÖ Correct:

array = [...array, item];


Why?

Angular tracks reference changes

Mutations don‚Äôt always trigger detection

1Ô∏è‚É£4Ô∏è‚É£ Scaling WebSockets (IMPORTANT)
Problem

Multiple server instances ‚Üí rooms break

Solution: Redis Adapter
io.adapter(createAdapter(pub, sub));

Benefits

Sync events across servers

Horizontal scaling

1Ô∏è‚É£5Ô∏è‚É£ Error Handling in WebSockets
Client Side
socket.on('connect_error', err => {});

Server Side
io.on('error', err => {});


Always handle:

Reconnection

Timeout

Network loss

1Ô∏è‚É£6Ô∏è‚É£ WebSocket Security
Threat	Solution
Unauthorized access	JWT auth
Data leak	Rooms
DDoS	Rate limiting
MITM	HTTPS / WSS
Abuse	Event validation

üìå Always use WSS in production

1Ô∏è‚É£7Ô∏è‚É£ WebSocket vs REST (When to Use What)
Use Case	Best Choice
CRUD APIs	REST
Real-time updates	WebSocket
Notifications	WebSocket
File uploads	REST
Live tracking	WebSocket
1Ô∏è‚É£8Ô∏è‚É£ Common Interview Questions & Answers
Q: Can WebSockets replace REST?

‚ùå No
‚úî REST for CRUD, WebSocket for real-time

Q: How does Socket.IO handle fallback?

‚úî Uses polling if WebSocket fails

Q: How do you secure WebSockets?

‚úî JWT + WSS + room-based access

Q: How do you scale WebSocket apps?

‚úî Redis adapter + load balancer

1Ô∏è‚É£9Ô∏è‚É£ Your Chat Project ‚Äì How to Explain

‚ÄúI implemented a real-time support chat using Socket.IO with room-based communication. Ionic app creates a query, admin panel joins the same room, and messages are broadcast in real time. I handled Angular change detection using NgZone and immutable updates.‚Äù

2Ô∏è‚É£0Ô∏è‚É£ Final One-Line Summary (MEMORIZE)

WebSockets enable persistent, bi-directional, low-latency communication, ideal for real-time systems like chat, live tracking, and notifications.