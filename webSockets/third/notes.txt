# ðŸŒ HTTP vs WebSockets â€” One-Page Revision Notes

---

## 1ï¸âƒ£ HTTP Basics

### ðŸ”¹ HTTP/1.0

* Client sends request â†’ Server sends response
* Connection closes after response
* Strict **requestâ€“response** model
* âŒ No persistent connection
* âŒ WebSockets not possible

```
Client  â”€â”€Requestâ”€â”€â–¶  Server
Client  â—€â”€Responseâ”€â”€  Server
(Connection closed)
```

---

### ðŸ”¹ HTTP/1.1

* Supports **persistent connections (keep-alive)**
* Still **client-initiated only**
* Server cannot push data on its own
* âœ… Required for WebSocket handshake

```
Client  â”€â”€Requestâ”€â”€â–¶  Server
Client  â—€â”€Responseâ”€â”€  Server
(Connection kept alive, but server waits)
```

---

## 2ï¸âƒ£ WebSockets (High Level)

* WebSocket is a **separate protocol**, not HTTP
* Uses **HTTP/1.1 only for handshake**
* After upgrade â†’ switches to **WebSocket protocol**
* Enables **real-time, full-duplex communication**

ðŸ“Œ Key idea:

> HTTP is used as a *vehicle* to establish WebSocket connection

---

## 3ï¸âƒ£ WebSocket Handshake (Very Important)

### ðŸ”¹ Steps

1. Client connects using:

   * `ws://` (non-secure)
   * `wss://` (secure over TLS)

2. Client sends **HTTP/1.1 request** with headers:

   * `Upgrade: websocket`
   * `Connection: Upgrade`

3. Server responds with:

   * `HTTP/1.1 101 Switching Protocols`

4. Protocol switches from **HTTP â†’ WebSocket**

5. Real-time communication starts

```
Client â”€â”€HTTP/1.1 + Upgradeâ”€â”€â–¶ Server
Client â—€â”€â”€101 Switchingâ”€â”€â”€â”€â”€â”€ Server
        (Protocol switched)
Client â‡„â‡„â‡„â‡„â‡„â‡„â‡„â‡„â‡„â‡„ Server
      (WebSocket frames)
```

ðŸ“Œ `101` status code is **mandatory**

---

## 4ï¸âƒ£ After Handshake (How WS Works)

* Connection stays **open**
* Client & server can send messages **anytime**
* Uses lightweight **frames**, not HTTP messages
* Much lower latency than HTTP

```
Client  â‡„  Server
(real-time, full-duplex)
```

---

## 5ï¸âƒ£ WebSocket Use Cases

* ðŸ’¬ Chat applications (WhatsApp, Slack)
* ðŸ“ˆ Live feeds (stocks, crypto, sports)
* ðŸŽ® Multiplayer games
* ðŸ“Š Progress updates / live logs
* âœï¸ Collaborative tools (editors, whiteboards)

---

## 6ï¸âƒ£ WebSocket Examples

* Browser â†” Node.js server
* Angular/React â†” Backend
* Real-time notifications
* IoT live telemetry

---

## 7ï¸âƒ£ WebSocket Pros (Advantages)

### âœ… Full-Duplex

* Client & server send independently

### âœ… Low Latency

* No repeated HTTP headers
* Faster data transfer

### âœ… Server Push

* Server can push data without client request

### âœ… HTTP Compatible

* Works over ports **80 / 443**

### âœ… Firewall Friendly

* Usually allowed through corporate firewalls

---

## 8ï¸âƒ£ WebSocket Cons (Disadvantages)

### âŒ Proxying is Tricky

* Some proxies donâ€™t support upgrade well

### âŒ Load Balancing (L7)

* Long-lived connections
* Requires sticky sessions / affinity

### âŒ Stateful Connections

* Server keeps client state
* Harder to scale horizontally
* Often needs Redis / Pub-Sub

### âŒ Resource Intensive

* Each open connection uses memory

### âŒ Overkill for Simple Apps

* REST/HTTP better for CRUD

---

## 9ï¸âƒ£ HTTP vs WebSocket (Quick Compare)

| Feature       | HTTP             | WebSocket   |
| ------------- | ---------------- | ----------- |
| Communication | Request-Response | Full-Duplex |
| Server Push   | âŒ                | âœ…           |
| Connection    | Short-lived      | Long-lived  |
| Latency       | Higher           | Low         |
| Scaling       | Easier           | Harder      |
| Use Case      | APIs, CRUD       | Real-time   |

---

## ðŸ”‘ Final Takeaway

> **HTTP is stateless and client-driven.**
> **WebSockets are stateful and event-driven.**
> **WebSockets trade scaling simplicity for real-time performance.**

---

ðŸ“Œ *Perfect for interviews, quick revision, and real-time system design basics.*
